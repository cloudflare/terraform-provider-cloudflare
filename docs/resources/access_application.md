---
page_title: "cloudflare_access_application Resource - Cloudflare"
subcategory: ""
description: |-
  
---

# cloudflare_access_application (Resource)



~> It's required that an `account_id` or `zone_id` is provided and in
   most cases using either is fine. However, if you're using a scoped
   access token, you must provide the argument that matches the token's
   scope. For example, an access token that is scoped to the "example.com"
   zone needs to use the `zone_id` argument.

## Example Usage

```terraform
resource "cloudflare_access_application" "staging_app" {
  zone_id                   = "0da42c8d2132a9ddaf714f9e7c920711"
  name                      = "staging application"
  domain                    = "staging.example.com"
  type                      = "self_hosted"
  session_duration          = "24h"
  auto_redirect_to_identity = false
  policies = [
    cloudflare_access_policy.example_1.id,
    cloudflare_access_policy.example_2.id
  ]
}

# With CORS configuration
resource "cloudflare_access_application" "staging_app" {
  zone_id          = "0da42c8d2132a9ddaf714f9e7c920711"
  name             = "staging application"
  domain           = "staging.example.com"
  type             = "self_hosted"
  session_duration = "24h"
  policies = [
    cloudflare_access_policy.example_1.id,
    cloudflare_access_policy.example_2.id
  ]
  cors_headers = {
    allowed_methods   = ["GET", "POST", "OPTIONS"]
    allowed_origins   = ["https://example.com"]
    allow_credentials = true
    max_age           = 10
  }
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `account_id` (String) The Account ID to use for this endpoint. Mutually exclusive with the Zone ID.
- `allow_authenticate_via_warp` (Boolean) When set to true, users can authenticate to this application using their WARP session.  When set to false this application will always require direct IdP authentication. This setting always overrides the organization setting for WARP authentication.
- `allowed_idps` (String) The identity providers your users can select when connecting to this application. Defaults to all IdPs configured in your account.
- `app_launcher_visible` (Boolean) Displays the application in the App Launcher.
- `auto_redirect_to_identity` (Boolean) When set to `true`, users skip the identity provider selection step during login. You must specify only one identity provider in allowed_idps.
- `cors_headers` (Attributes) (see [below for nested schema](#nestedatt--cors_headers))
- `custom_deny_message` (String) The custom error message shown to a user when they are denied access to the application.
- `custom_deny_url` (String) The custom URL a user is redirected to when they are denied access to the application when failing identity-based rules.
- `custom_non_identity_deny_url` (String) The custom URL a user is redirected to when they are denied access to the application when failing non-identity rules.
- `custom_pages` (String) The custom pages that will be displayed when applicable for this application
- `domain` (String) The primary hostname and path that Access will secure. If the app is visible in the App Launcher dashboard, this is the domain that will be displayed.
- `enable_binding_cookie` (Boolean) Enables the binding cookie, which increases security against compromised authorization tokens and CSRF attacks.
- `http_only_cookie_attribute` (Boolean) Enables the HttpOnly cookie attribute, which increases security against XSS attacks.
- `logo_url` (String) The image URL for the logo shown in the App Launcher dashboard.
- `name` (String) The name of the application.
- `options_preflight_bypass` (Boolean) Allows options preflight requests to bypass Access authentication and go directly to the origin. Cannot turn on if cors_headers is set.
- `path_cookie_attribute` (Boolean) Enables cookie paths to scope an application's JWT to the application path. If disabled, the JWT will scope to the hostname by default
- `policies` (Attributes List) The policies that will apply to the application, in ascending order of precedence. Items can reference existing policies or create new policies exclusive to the application. (see [below for nested schema](#nestedatt--policies))
- `saas_app` (Attributes) (see [below for nested schema](#nestedatt--saas_app))
- `same_site_cookie_attribute` (String) Sets the SameSite cookie setting, which provides increased security against CSRF attacks.
- `scim_config` (Attributes) Configuration for provisioning to this application via SCIM. This is currently in closed beta. (see [below for nested schema](#nestedatt--scim_config))
- `self_hosted_domains` (String) List of domains that Access will secure.
- `service_auth_401_redirect` (Boolean) Returns a 401 status code when the request is blocked by a Service Auth policy.
- `session_duration` (String) The amount of time that tokens issued for this application will be valid. Must be in the format `300ms` or `2h45m`. Valid time units are: ns, us (or Âµs), ms, s, m, h.
- `skip_interstitial` (Boolean) Enables automatic authentication through cloudflared.
- `tags` (String) The tags you want assigned to an application. Tags are used to filter applications in the App Launcher dashboard.
- `type` (String) The application type.
- `zone_id` (String) The Zone ID to use for this endpoint. Mutually exclusive with the Account ID.

### Read-Only

- `id` (String) UUID

<a id="nestedatt--cors_headers"></a>
### Nested Schema for `cors_headers`

Optional:

- `allow_all_headers` (Boolean) Allows all HTTP request headers.
- `allow_all_methods` (Boolean) Allows all HTTP request methods.
- `allow_all_origins` (Boolean) Allows all origins.
- `allow_credentials` (Boolean) When set to `true`, includes credentials (cookies, authorization headers, or TLS client certificates) with requests.
- `allowed_headers` (String) Allowed HTTP request headers.
- `allowed_methods` (String) Allowed HTTP request methods.
- `allowed_origins` (String) Allowed origins.
- `max_age` (Number) The maximum number of seconds the results of a preflight request can be cached.


<a id="nestedatt--policies"></a>
### Nested Schema for `policies`

Optional:

- `id` (String) The UUID of the policy
- `precedence` (Number) The order of execution for this policy. Must be unique for each policy within an app.


<a id="nestedatt--saas_app"></a>
### Nested Schema for `saas_app`

Optional:

- `access_token_lifetime` (String) The lifetime of the OIDC Access Token after creation. Valid units are m,h. Must be greater than or equal to 1m and less than or equal to 24h.
- `allow_pkce_without_client_secret` (Boolean) If client secret should be required on the token endpoint when authorization_code_with_pkce grant is used.
- `app_launcher_url` (String) The URL where this applications tile redirects users
- `auth_type` (String) Optional identifier indicating the authentication protocol used for the saas app. Required for OIDC. Default if unset is "saml"
- `client_id` (String) The application client id
- `client_secret` (String) The application client secret, only returned on POST request.
- `consumer_service_url` (String) The service provider's endpoint that is responsible for receiving and parsing a SAML assertion.
- `created_at` (String)
- `custom_attributes` (Attributes) (see [below for nested schema](#nestedatt--saas_app--custom_attributes))
- `custom_claims` (Attributes) (see [below for nested schema](#nestedatt--saas_app--custom_claims))
- `default_relay_state` (String) The URL that the user will be redirected to after a successful login for IDP initiated logins.
- `grant_types` (String) The OIDC flows supported by this application
- `group_filter_regex` (String) A regex to filter Cloudflare groups returned in ID token and userinfo endpoint
- `hybrid_and_implicit_options` (Attributes) (see [below for nested schema](#nestedatt--saas_app--hybrid_and_implicit_options))
- `idp_entity_id` (String) The unique identifier for your SaaS application.
- `name_id_format` (String) The format of the name identifier sent to the SaaS application.
- `name_id_transform_jsonata` (String) A [JSONata](https://jsonata.org/) expression that transforms an application's user identities into a NameID value for its SAML assertion. This expression should evaluate to a singular string. The output of this expression can override the `name_id_format` setting.
- `public_key` (String) The Access public certificate that will be used to verify your identity.
- `redirect_uris` (String) The permitted URL's for Cloudflare to return Authorization codes and Access/ID tokens
- `refresh_token_options` (Attributes) (see [below for nested schema](#nestedatt--saas_app--refresh_token_options))
- `saml_attribute_transform_jsonata` (String) A [JSONata] (https://jsonata.org/) expression that transforms an application's user identities into attribute assertions in the SAML response. The expression can transform id, email, name, and groups values. It can also transform fields listed in the saml_attributes or oidc_fields of the identity provider used to authenticate. The output of this expression must be a JSON object.
- `scopes` (String) Define the user information shared with access, "offline_access" scope will be automatically enabled if refresh tokens are enabled
- `sp_entity_id` (String) A globally unique name for an identity or service provider.
- `sso_endpoint` (String) The endpoint where your SaaS application will send login requests.
- `updated_at` (String)

<a id="nestedatt--saas_app--custom_attributes"></a>
### Nested Schema for `saas_app.custom_attributes`

Optional:

- `friendly_name` (String) The SAML FriendlyName of the attribute.
- `name` (String) The name of the attribute.
- `name_format` (String) A globally unique name for an identity or service provider.
- `required` (Boolean) If the attribute is required when building a SAML assertion.
- `source` (Attributes) (see [below for nested schema](#nestedatt--saas_app--custom_attributes--source))

<a id="nestedatt--saas_app--custom_attributes--source"></a>
### Nested Schema for `saas_app.custom_attributes.source`

Optional:

- `name` (String) The name of the IdP attribute.
- `name_by_idp` (Map of String) A mapping from IdP ID to attribute name.



<a id="nestedatt--saas_app--custom_claims"></a>
### Nested Schema for `saas_app.custom_claims`

Optional:

- `name` (String) The name of the claim.
- `required` (Boolean) If the claim is required when building an OIDC token.
- `scope` (String) The scope of the claim.
- `source` (Attributes) (see [below for nested schema](#nestedatt--saas_app--custom_claims--source))

<a id="nestedatt--saas_app--custom_claims--source"></a>
### Nested Schema for `saas_app.custom_claims.source`

Optional:

- `name` (String) The name of the IdP claim.
- `name_by_idp` (Map of String) A mapping from IdP ID to claim name.



<a id="nestedatt--saas_app--hybrid_and_implicit_options"></a>
### Nested Schema for `saas_app.hybrid_and_implicit_options`

Optional:

- `return_access_token_from_authorization_endpoint` (Boolean) If an Access Token should be returned from the OIDC Authorization endpoint
- `return_id_token_from_authorization_endpoint` (Boolean) If an ID Token should be returned from the OIDC Authorization endpoint


<a id="nestedatt--saas_app--refresh_token_options"></a>
### Nested Schema for `saas_app.refresh_token_options`

Optional:

- `lifetime` (String) How long a refresh token will be valid for after creation. Valid units are m,h,d. Must be longer than 1m.



<a id="nestedatt--scim_config"></a>
### Nested Schema for `scim_config`

Required:

- `idp_uid` (String) The UID of the IdP to use as the source for SCIM resources to provision to this application.
- `remote_uri` (String) The base URI for the application's SCIM-compatible API.

Optional:

- `authentication` (Attributes) Attributes for configuring HTTP Basic authentication scheme for SCIM provisioning to an application. (see [below for nested schema](#nestedatt--scim_config--authentication))
- `deactivate_on_delete` (Boolean) If false, propagates DELETE requests to the target application for SCIM resources. If true, sets 'active' to false on the SCIM resource. Note: Some targets do not support DELETE operations.
- `enabled` (Boolean) Whether SCIM provisioning is turned on for this application.
- `mappings` (Attributes List) A list of mappings to apply to SCIM resources before provisioning them in this application. These can transform or filter the resources to be provisioned. (see [below for nested schema](#nestedatt--scim_config--mappings))

<a id="nestedatt--scim_config--authentication"></a>
### Nested Schema for `scim_config.authentication`

Required:

- `scheme` (String) The authentication scheme to use when making SCIM requests to this application.

Optional:

- `authorization_url` (String) URL used to generate the auth code used during token generation.
- `client_id` (String) Client ID used to authenticate when generating a token for authenticating with the remote SCIM service.
- `client_secret` (String) Secret used to authenticate when generating a token for authenticating with the remove SCIM service.
- `password` (String) Password used to authenticate with the remote SCIM service.
- `scopes` (String) The authorization scopes to request when generating the token used to authenticate with the remove SCIM service.
- `token` (String) Token used to authenticate with the remote SCIM service.
- `token_url` (String) URL used to generate the token used to authenticate with the remote SCIM service.
- `user` (String) User name used to authenticate with the remote SCIM service.


<a id="nestedatt--scim_config--mappings"></a>
### Nested Schema for `scim_config.mappings`

Required:

- `schema` (String) Which SCIM resource type this mapping applies to.

Optional:

- `enabled` (Boolean) Whether or not this mapping is enabled.
- `filter` (String) A [SCIM filter expression](https://datatracker.ietf.org/doc/html/rfc7644#section-3.4.2.2) that matches resources that should be provisioned to this application.
- `operations` (Attributes) Whether or not this mapping applies to creates, updates, or deletes. (see [below for nested schema](#nestedatt--scim_config--mappings--operations))
- `transform_jsonata` (String) A [JSONata](https://jsonata.org/) expression that transforms the resource before provisioning it in the application.

<a id="nestedatt--scim_config--mappings--operations"></a>
### Nested Schema for `scim_config.mappings.operations`

Optional:

- `create` (Boolean) Whether or not this mapping applies to create (POST) operations.
- `delete` (Boolean) Whether or not this mapping applies to DELETE operations.
- `update` (Boolean) Whether or not this mapping applies to update (PATCH/PUT) operations.

## Import

Import is supported using the following syntax:

```shell
$ terraform import cloudflare_access_application.example <account_id>/<application_id>
```
