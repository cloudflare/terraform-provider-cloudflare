---
page_title: "cloudflare_workers_script Resource - Cloudflare"
subcategory: ""
description: |-
  
---

# cloudflare_workers_script (Resource)



## Example Usage

```terraform
resource "cloudflare_workers_script" "example_workers_script" {
  account_id = "023e105f4ecef8ad9ca31a8372d0c353"
  script_name = "this-is_my_script-01"
  metadata = {
    assets = {
      config = {
        html_handling = "auto-trailing-slash"
        not_found_handling = "none"
        serve_directly = true
      }
      jwt = "jwt"
    }
    bindings = [{
      name = "MY_ENV_VAR"
      type = "plain_text"
    }]
    body_part = "worker.js"
    compatibility_date = "2021-01-01"
    compatibility_flags = ["nodejs_compat"]
    keep_assets = false
    keep_bindings = ["string"]
    logpush = false
    main_module = "worker.js"
    migrations = {
      deleted_classes = ["string"]
      new_classes = ["string"]
      new_sqlite_classes = ["string"]
      new_tag = "v2"
      old_tag = "v1"
      renamed_classes = [{
        from = "from"
        to = "to"
      }]
      transferred_classes = [{
        from = "from"
        from_script = "from_script"
        to = "to"
      }]
    }
    observability = {
      enabled = true
      head_sampling_rate = 0.1
    }
    placement = {
      mode = "smart"
      status = "SUCCESS"
    }
    tags = ["string"]
    tail_consumers = [{
      service = "my-log-consumer"
      environment = "production"
      namespace = "my-namespace"
    }]
    usage_model = "standard"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_id` (String) Identifier
- `content` (String) Module or Service Worker contents of the Worker.
- `script_name` (String) Name of the script, used in URLs and route configuration.

### Optional

- `assets` (Attributes) Configuration for assets within a Worker (see [below for nested schema](#nestedatt--assets))
- `bindings` (Attributes List) List of bindings attached to a Worker. You can find more about bindings on our docs: https://developers.cloudflare.com/workers/configuration/multipart-upload-metadata/#bindings. (see [below for nested schema](#nestedatt--bindings))
- `body_part` (String) Name of the part in the multipart request that contains the script (e.g. the file adding a listener to the `fetch` event). Indicates a `service worker syntax` Worker.
- `compatibility_date` (String) Date indicating targeted support in the Workers runtime. Backwards incompatible fixes to the runtime following this date will not affect this Worker.
- `compatibility_flags` (List of String) Flags that enable or disable certain features in the Workers runtime. Used to enable upcoming features or opt in or out of specific changes not included in a `compatibility_date`.
- `keep_assets` (Boolean) Retain assets which exist for a previously uploaded Worker version; used in lieu of providing a completion token.
- `keep_bindings` (List of String) List of binding types to keep from previous_upload.
- `logpush` (Boolean) Whether Logpush is turned on for the Worker.
- `main_module` (String) Name of the part in the multipart request that contains the main module (e.g. the file exporting a `fetch` handler). Indicates a `module syntax` Worker.
- `migrations` (Attributes) Migrations to apply for Durable Objects associated with this Worker. (see [below for nested schema](#nestedatt--migrations))
- `observability` (Attributes) Observability settings for the Worker. (see [below for nested schema](#nestedatt--observability))
- `placement` (Attributes) Configuration for [Smart Placement](https://developers.cloudflare.com/workers/configuration/smart-placement). (see [below for nested schema](#nestedatt--placement))
- `tail_consumers` (Attributes List) List of Workers that will consume logs from the attached Worker. (see [below for nested schema](#nestedatt--tail_consumers))
- `usage_model` (String) Usage model for the Worker invocations.

### Read-Only

- `id` (String) Name of the script, used in URLs and route configuration.

<a id="nestedatt--assets"></a>
### Nested Schema for `assets`

Optional:

- `config` (Attributes) Configuration for assets within a Worker. (see [below for nested schema](#nestedatt--assets--config))
- `jwt` (String) Token provided upon successful upload of all files from a registered manifest.

<a id="nestedatt--assets--config"></a>
### Nested Schema for `assets.config`

Optional:

- `html_handling` (String) Determines the redirects and rewrites of requests for HTML content.
- `not_found_handling` (String) Determines the response when a request does not match a static asset, and there is no Worker script.
- `serve_directly` (Boolean) When true and the incoming request matches an asset, that will be served instead of invoking the Worker script. When false, requests will always invoke the Worker script.



<a id="nestedatt--bindings"></a>
### Nested Schema for `bindings`

Required:

- `name` (String) A JavaScript variable name for the binding.
- `type` (String) The kind of resource that the binding provides.

Optional:

- `bucket_name` (String) R2 bucket to bind to.
- `certificate_id` (String) Identifier of the certificate to bind to.
- `class_name` (String) The exported class name of the Durable Object.
- `dataset` (String) The dataset name to bind to.
- `environment` (String) The environment of the script_name to bind to.
- `id` (String) Identifier of the D1 database to bind to.
- `index_name` (String) Name of the Vectorize index to bind to.
- `json` (String) JSON data to use.
- `namespace` (String) Namespace to bind to.
- `namespace_id` (String) Namespace identifier tag.
- `outbound` (Attributes) Outbound worker. (see [below for nested schema](#nestedatt--bindings--outbound))
- `queue_name` (String) Name of the Queue to bind to.
- `script_name` (String) The script where the Durable Object is defined, if it is external to this Worker.
- `service` (String) Name of Worker to bind to.
- `text` (String) The text value to use.

<a id="nestedatt--bindings--outbound"></a>
### Nested Schema for `bindings.outbound`

Optional:

- `params` (List of String) Pass information from the Dispatch Worker to the Outbound Worker through the parameters.
- `worker` (Attributes) Outbound worker. (see [below for nested schema](#nestedatt--bindings--outbound--worker))

<a id="nestedatt--bindings--outbound--worker"></a>
### Nested Schema for `bindings.outbound.worker`

Optional:

- `environment` (String) Environment of the outbound worker.
- `service` (String) Name of the outbound worker.




<a id="nestedatt--migrations"></a>
### Nested Schema for `migrations`

Optional:

- `deleted_classes` (List of String) A list of classes to delete Durable Object namespaces from.
- `new_classes` (List of String) A list of classes to create Durable Object namespaces from.
- `new_sqlite_classes` (List of String) A list of classes to create Durable Object namespaces with SQLite from.
- `new_tag` (String) Tag to set as the latest migration tag.
- `old_tag` (String) Tag used to verify against the latest migration tag for this Worker. If they don't match, the upload is rejected.
- `renamed_classes` (Attributes List) A list of classes with Durable Object namespaces that were renamed. (see [below for nested schema](#nestedatt--migrations--renamed_classes))
- `steps` (Attributes List) Migrations to apply in order. (see [below for nested schema](#nestedatt--migrations--steps))
- `transferred_classes` (Attributes List) A list of transfers for Durable Object namespaces from a different Worker and class to a class defined in this Worker. (see [below for nested schema](#nestedatt--migrations--transferred_classes))

<a id="nestedatt--migrations--renamed_classes"></a>
### Nested Schema for `migrations.renamed_classes`

Optional:

- `from` (String)
- `to` (String)


<a id="nestedatt--migrations--steps"></a>
### Nested Schema for `migrations.steps`

Optional:

- `deleted_classes` (List of String) A list of classes to delete Durable Object namespaces from.
- `new_classes` (List of String) A list of classes to create Durable Object namespaces from.
- `new_sqlite_classes` (List of String) A list of classes to create Durable Object namespaces with SQLite from.
- `renamed_classes` (Attributes List) A list of classes with Durable Object namespaces that were renamed. (see [below for nested schema](#nestedatt--migrations--steps--renamed_classes))
- `transferred_classes` (Attributes List) A list of transfers for Durable Object namespaces from a different Worker and class to a class defined in this Worker. (see [below for nested schema](#nestedatt--migrations--steps--transferred_classes))

<a id="nestedatt--migrations--steps--renamed_classes"></a>
### Nested Schema for `migrations.steps.renamed_classes`

Optional:

- `from` (String)
- `to` (String)


<a id="nestedatt--migrations--steps--transferred_classes"></a>
### Nested Schema for `migrations.steps.transferred_classes`

Optional:

- `from` (String)
- `from_script` (String)
- `to` (String)



<a id="nestedatt--migrations--transferred_classes"></a>
### Nested Schema for `migrations.transferred_classes`

Optional:

- `from` (String)
- `from_script` (String)
- `to` (String)



<a id="nestedatt--observability"></a>
### Nested Schema for `observability`

Required:

- `enabled` (Boolean) Whether observability is enabled for the Worker.

Optional:

- `head_sampling_rate` (Number) The sampling rate for incoming requests. From 0 to 1 (1 = 100%, 0.1 = 10%). Default is 1.


<a id="nestedatt--placement"></a>
### Nested Schema for `placement`

Optional:

- `mode` (String) Enables [Smart Placement](https://developers.cloudflare.com/workers/configuration/smart-placement).

Read-Only:

- `status` (String) Status of [Smart Placement](https://developers.cloudflare.com/workers/configuration/smart-placement).


<a id="nestedatt--tail_consumers"></a>
### Nested Schema for `tail_consumers`

Required:

- `service` (String) Name of Worker that is to be the consumer.

Optional:

- `environment` (String) Optional environment if the Worker utilizes one.
- `namespace` (String) Optional dispatch namespace the script belongs to.

## Import

Import is supported using the following syntax:

```shell
$ terraform import cloudflare_workers_script.example '<account_id>/<script_name>'
```
