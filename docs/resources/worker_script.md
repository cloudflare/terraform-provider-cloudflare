---
page_title: "cloudflare_worker_script Resource - Cloudflare"
subcategory: ""
description: |-
  
---

# cloudflare_worker_script (Resource)



## Example Usage

```terraform
resource "cloudflare_workers_kv_namespace" "my_namespace" {
  account_id = "f037e56e89293a057740de681ac9abbe"
  title      = "example"
}

# Sets the script with the name "script_1"
resource "cloudflare_worker_script" "my_script" {
  account_id = "f037e56e89293a057740de681ac9abbe"
  name       = "script_1"
  content    = file("script.js")

  kv_namespace_binding = [{
    name         = "MY_EXAMPLE_KV_NAMESPACE"
    namespace_id = cloudflare_workers_kv_namespace.my_namespace.id
  }]

  plain_text_binding = [{
    name = "MY_EXAMPLE_PLAIN_TEXT"
    text = "foobar"
  }]

  secret_text_binding = [{
    name = "MY_EXAMPLE_SECRET_TEXT"
    text = var.secret_foo_value
  }]

  webassembly_binding = [{
    name   = "MY_EXAMPLE_WASM"
    module = filebase64("example.wasm")
  }]

  service_binding = [{
    name        = "MY_SERVICE_BINDING"
    service     = "MY_SERVICE"
    environment = "production"
  }]

  r2_bucket_binding = [{
    name        = "MY_BUCKET"
    bucket_name = "MY_BUCKET_NAME"
  }]

  analytics_engine_binding = [{
    name    = "MY_DATASET"
    dataset = "dataset1"
  }]
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_id` (String) Identifier
- `id` (String) The id of the script in the Workers system. Usually the script name.
- `script_name` (String) Name of the script, used in URLs and route configuration.

### Optional

- `any_part_name` (String) A module comprising a Worker script, often a javascript file. Multiple modules may be provided as separate named parts, but at least one module must be present and referenced in the metadata as `main_module` or `body_part` by part name. Source maps may also be included using the `application/source-map` content type.
- `message` (String) Rollback message to be associated with this deployment. Only parsed when query param `"rollback_to"` is present.
- `metadata` (Attributes) JSON encoded metadata about the uploaded parts and Worker configuration. (see [below for nested schema](#nestedatt--metadata))

### Read-Only

- `created_on` (String) When the script was created.
- `etag` (String) Hashed script content, can be used in a If-None-Match header when updating.
- `logpush` (Boolean) Whether Logpush is turned on for the Worker.
- `modified_on` (String) When the script was last modified.
- `placement_mode` (String) Specifies the placement mode for the Worker (e.g. 'smart').
- `tail_consumers` (Attributes List) List of Workers that will consume logs from the attached Worker. (see [below for nested schema](#nestedatt--tail_consumers))
- `usage_model` (String) Specifies the usage model for the Worker (e.g. 'bundled' or 'unbound').

<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Optional:

- `bindings` (List of String) List of bindings available to the worker.
- `body_part` (String) Name of the part in the multipart request that contains the script (e.g. the file adding a listener to the `fetch` event). Indicates a `service worker syntax` Worker.
- `compatibility_date` (String) Date indicating targeted support in the Workers runtime. Backwards incompatible fixes to the runtime following this date will not affect this Worker.
- `compatibility_flags` (List of String) Flags that enable or disable certain features in the Workers runtime. Used to enable upcoming features or opt in or out of specific changes not included in a `compatibility_date`.
- `keep_bindings` (List of String) List of binding types to keep from previous_upload.
- `logpush` (Boolean) Whether Logpush is turned on for the Worker.
- `main_module` (String) Name of the part in the multipart request that contains the main module (e.g. the file exporting a `fetch` handler). Indicates a `module syntax` Worker.
- `migrations` (Attributes) Migrations to apply for Durable Objects associated with this Worker. (see [below for nested schema](#nestedatt--metadata--migrations))
- `placement` (Attributes) (see [below for nested schema](#nestedatt--metadata--placement))
- `tags` (List of String) List of strings to use as tags for this Worker
- `tail_consumers` (Attributes List) List of Workers that will consume logs from the attached Worker. (see [below for nested schema](#nestedatt--metadata--tail_consumers))
- `usage_model` (String) Usage model to apply to invocations.
- `version_tags` (String) Key-value pairs to use as tags for this version of this Worker

<a id="nestedatt--metadata--migrations"></a>
### Nested Schema for `metadata.migrations`

Optional:

- `deleted_classes` (String) A list of classes to delete Durable Object namespaces from.
- `new_classes` (String) A list of classes to create Durable Object namespaces from.
- `new_tag` (String) Tag to set as the latest migration tag.
- `old_tag` (String) Tag used to verify against the latest migration tag for this Worker. If they don't match, the upload is rejected.
- `renamed_classes` (Attributes List) A list of classes with Durable Object namespaces that were renamed. (see [below for nested schema](#nestedatt--metadata--migrations--renamed_classes))
- `steps` (Attributes List) Migrations to apply in order. (see [below for nested schema](#nestedatt--metadata--migrations--steps))
- `transferred_classes` (Attributes List) A list of transfers for Durable Object namespaces from a different Worker and class to a class defined in this Worker. (see [below for nested schema](#nestedatt--metadata--migrations--transferred_classes))

<a id="nestedatt--metadata--migrations--renamed_classes"></a>
### Nested Schema for `metadata.migrations.renamed_classes`

Optional:

- `from` (String)
- `to` (String)


<a id="nestedatt--metadata--migrations--steps"></a>
### Nested Schema for `metadata.migrations.steps`

Optional:

- `deleted_classes` (List of String) A list of classes to delete Durable Object namespaces from.
- `new_classes` (List of String) A list of classes to create Durable Object namespaces from.
- `renamed_classes` (Attributes List) A list of classes with Durable Object namespaces that were renamed. (see [below for nested schema](#nestedatt--metadata--migrations--steps--renamed_classes))
- `transferred_classes` (Attributes List) A list of transfers for Durable Object namespaces from a different Worker and class to a class defined in this Worker. (see [below for nested schema](#nestedatt--metadata--migrations--steps--transferred_classes))

<a id="nestedatt--metadata--migrations--steps--renamed_classes"></a>
### Nested Schema for `metadata.migrations.steps.transferred_classes`

Optional:

- `from` (String)
- `to` (String)


<a id="nestedatt--metadata--migrations--steps--transferred_classes"></a>
### Nested Schema for `metadata.migrations.steps.transferred_classes`

Optional:

- `from` (String)
- `from_script` (String)
- `to` (String)



<a id="nestedatt--metadata--migrations--transferred_classes"></a>
### Nested Schema for `metadata.migrations.transferred_classes`

Optional:

- `from` (String)
- `from_script` (String)
- `to` (String)



<a id="nestedatt--metadata--placement"></a>
### Nested Schema for `metadata.placement`

Optional:

- `mode` (String) Enables [Smart Placement](https://developers.cloudflare.com/workers/configuration/smart-placement). Only `"smart"` is currently supported


<a id="nestedatt--metadata--tail_consumers"></a>
### Nested Schema for `metadata.tail_consumers`

Required:

- `service` (String) Name of Worker that is to be the consumer.

Optional:

- `environment` (String) Optional environment if the Worker utilizes one.
- `namespace` (String) Optional dispatch namespace the script belongs to.



<a id="nestedatt--tail_consumers"></a>
### Nested Schema for `tail_consumers`

Required:

- `service` (String) Name of Worker that is to be the consumer.

Optional:

- `environment` (String) Optional environment if the Worker utilizes one.
- `namespace` (String) Optional dispatch namespace the script belongs to.

## Import

Import is supported using the following syntax:

```shell
$ terraform import cloudflare_worker_script.example <account_id>/<script_name>
```
