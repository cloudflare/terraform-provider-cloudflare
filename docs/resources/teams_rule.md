---
page_title: "cloudflare_teams_rule Resource - Cloudflare"
subcategory: ""
description: |-
  **DEPRECATED**: This resource has been deprecated and is only available for schema validation to support `removed` statements in Terraform configurations.
  
  The `cloudflare_teams_rule` resource was renamed to `cloudflare_zero_trust_gateway_policy` in v5.
---

# cloudflare_teams_rule (Resource)

**DEPRECATED**: This resource has been deprecated and is only available for schema validation to support `removed` statements in Terraform configurations.

The `cloudflare_teams_rule` resource was renamed to `cloudflare_zero_trust_gateway_policy` in v5.

## Migration

To migrate from `cloudflare_teams_rule` to the current resource, rename it to `cloudflare_zero_trust_gateway_policy`.

## Example Usage

```terraform
# This resource is deprecated and will return an error if used
resource "cloudflare_teams_rule" "example" {
  account_id = "699d98642c564d2e855e9661899b7252"
  name = "example-rule"
  action = "block"
  filters = ["http"]
  
  rule_settings {
    block_page {
      target_uri = "https://example.com/blocked"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_id` (String) The account identifier to target for the resource.
- `action` (String) The action to preform when the associated traffic, identity, and device posture expressions are either absent or evaluate to `true`.
- `name` (String) The name of the rule.

### Optional

- `description` (String) The description of the rule.
- `precedence` (Number) Precedence sets the order of your rules. Lower values indicate higher precedence. At each processing phase, applicable rules are evaluated in ascending order of this value.
- `filters` (List of String) The protocol or layer to evaluate the traffic, identity, and device posture expressions.
- `schedule` (Block, Optional) The schedule for activating DNS policies. This does not apply to HTTP or network policies. (see [below for nested schema](#nestedblock--schedule))
- `device_posture` (String) The device posture expression to be matched.
- `enabled` (Boolean) Whether the rule is enabled.
- `identity` (String) The identity expression to be matched.
- `traffic` (String) The traffic expression to be matched.
- `expiration` (Block, Optional) The expiration settings for the rule. (see [below for nested schema](#nestedblock--expiration))
- `rule_settings` (Block, Optional) The rule settings for the policy. (see [below for nested schema](#nestedblock--rule_settings))

### Read-Only

- `id` (String) The API resource UUID.
- `created_at` (String) The creation timestamp.
- `deleted_at` (String) The deletion timestamp.
- `updated_at` (String) The update timestamp.
- `version` (Number) The version of the rule.
- `warning_status` (String) The warning status of the rule.

<a id="nestedblock--schedule"></a>
### Nested Schema for `schedule`

#### Optional

- `fri` (String) The time intervals when the rule will be active on Fridays, in increasing order from 00:00-24:00.  If this parameter is omitted, the rule will be deactivated on Fridays.
- `mon` (String) The time intervals when the rule will be active on Mondays, in increasing order from 00:00-24:00. If this parameter is omitted, the rule will be deactivated on Mondays.
- `sat` (String) The time intervals when the rule will be active on Saturdays, in increasing order from 00:00-24:00. If this parameter is omitted, the rule will be deactivated on Saturdays.
- `sun` (String) The time intervals when the rule will be active on Sundays, in increasing order from 00:00-24:00. If this parameter is omitted, the rule will be deactivated on Sundays.
- `thu` (String) The time intervals when the rule will be active on Thursdays, in increasing order from 00:00-24:00. If this parameter is omitted, the rule will be deactivated on Thursdays.
- `time_zone` (String) The timezone for the schedule.
- `tue` (String) The time intervals when the rule will be active on Tuesdays, in increasing order from 00:00-24:00. If this parameter is omitted, the rule will be deactivated on Tuesdays.
- `wed` (String) The time intervals when the rule will be active on Wednesdays, in increasing order from 00:00-24:00. If this parameter is omitted, the rule will be deactivated on Wednesdays.

<a id="nestedblock--expiration"></a>
### Nested Schema for `expiration`

#### Optional

- `expires_at` (String) The expiration date and time for the rule.
- `duration` (Number) The duration in seconds for the rule to expire.

#### Read-Only

- `expired` (Boolean) Whether the rule has expired.

<a id="nestedblock--rule_settings"></a>
### Nested Schema for `rule_settings`

#### Optional

- `add_headers` (Map of String) Add custom headers to allowed requests in the form of key-value pairs.
- `allow_child_bypass` (Boolean) Allow child bypass.
- `audit_ssh` (Block, Optional) Audit SSH settings. (see [below for nested schema](#nestedblock--rule_settings--audit_ssh))
- `biso_admin_controls` (Block, Optional) BISO admin controls. (see [below for nested schema](#nestedblock--rule_settings--biso_admin_controls))
- `block_page` (Block, Optional) Block page settings. (see [below for nested schema](#nestedblock--rule_settings--block_page))
- `block_page_enabled` (Boolean) Whether the block page is enabled.
- `block_reason` (String) The reason for blocking.
- `bypass_parent_rule` (Boolean) Whether to bypass parent rule.
- `check_session` (Block, Optional) Check session settings. (see [below for nested schema](#nestedblock--rule_settings--check_session))
- `dns_resolvers` (Block, Optional) DNS resolver settings. (see [below for nested schema](#nestedblock--rule_settings--dns_resolvers))
- `egress` (Block, Optional) Egress settings. (see [below for nested schema](#nestedblock--rule_settings--egress))
- `ignore_cname_category_matches` (Boolean) Whether to ignore CNAME category matches.
- `insecure_disable_dnssec_validation` (Boolean) Whether to disable DNSSEC validation.
- `ip_categories` (Boolean) Whether to enable IP categories.
- `ip_indicator_feeds` (Boolean) Whether to enable IP indicator feeds.
- `l4override` (Block, Optional) L4 override settings. (see [below for nested schema](#nestedblock--rule_settings--l4override))
- `notification_settings` (Block, Optional) Notification settings. (see [below for nested schema](#nestedblock--rule_settings--notification_settings))
- `override_host` (String) The override host.
- `override_ips` (List of String) The override IPs.
- `payload_log` (Block, Optional) Payload log settings. (see [below for nested schema](#nestedblock--rule_settings--payload_log))
- `quarantine` (Block, Optional) Quarantine settings. (see [below for nested schema](#nestedblock--rule_settings--quarantine))
- `redirect` (Block, Optional) Redirect settings. (see [below for nested schema](#nestedblock--rule_settings--redirect))
- `resolve_dns_internally` (Block, Optional) Resolve DNS internally settings. (see [below for nested schema](#nestedblock--rule_settings--resolve_dns_internally))
- `resolve_dns_through_cloudflare` (Boolean) Whether to resolve DNS through Cloudflare.
- `untrusted_cert` (Block, Optional) Untrusted certificate settings. (see [below for nested schema](#nestedblock--rule_settings--untrusted_cert))

<a id="nestedblock--rule_settings--audit_ssh"></a>
### Nested Schema for `rule_settings.audit_ssh`

#### Optional

- `command_logging` (Boolean) Enable command logging.

<a id="nestedblock--rule_settings--biso_admin_controls"></a>
### Nested Schema for `rule_settings.biso_admin_controls`

#### Optional

- `copy` (String) Copy setting.
- `download` (String) Download setting.
- `keyboard` (String) Keyboard setting.
- `paste` (String) Paste setting.
- `printing` (String) Printing setting.
- `upload` (String) Upload setting.

#### Read-Only

- `dcp` (Boolean) DCP setting.
- `dd` (Boolean) DD setting.
- `dk` (Boolean) DK setting.
- `du` (Boolean) DU setting.
- `version` (String) Version setting.

<a id="nestedblock--rule_settings--block_page"></a>
### Nested Schema for `rule_settings.block_page`

#### Required

- `target_uri` (String) The target URI for the block page.

#### Optional

- `include_context` (Boolean) Include context in the block page.

<a id="nestedblock--rule_settings--check_session"></a>
### Nested Schema for `rule_settings.check_session`

#### Optional

- `duration` (String) The duration for the session check.
- `enforce` (Boolean) Whether to enforce the session check.

<a id="nestedblock--rule_settings--dns_resolvers"></a>
### Nested Schema for `rule_settings.dns_resolvers`

#### Optional

- `ipv4` (Block List) IPv4 DNS resolvers. (see [below for nested schema](#nestedblock--rule_settings--dns_resolvers--ipv4))
- `ipv6` (Block List) IPv6 DNS resolvers. (see [below for nested schema](#nestedblock--rule_settings--dns_resolvers--ipv6))

<a id="nestedblock--rule_settings--dns_resolvers--ipv4"></a>
### Nested Schema for `rule_settings.dns_resolvers.ipv4`

#### Required

- `ip` (String) The IP address of the DNS resolver.

#### Optional

- `port` (Number) The port number for the DNS resolver.
- `route_through_private_network` (Boolean) Whether to route through private network.
- `vnet_id` (String) The virtual network ID.

<a id="nestedblock--rule_settings--dns_resolvers--ipv6"></a>
### Nested Schema for `rule_settings.dns_resolvers.ipv6`

#### Required

- `ip` (String) The IP address of the DNS resolver.

#### Optional

- `port` (Number) The port number for the DNS resolver.
- `route_through_private_network` (Boolean) Whether to route through private network.
- `vnet_id` (String) The virtual network ID.

<a id="nestedblock--rule_settings--egress"></a>
### Nested Schema for `rule_settings.egress`

#### Optional

- `ipv4` (String) IPv4 egress setting.
- `ipv4_fallback` (String) IPv4 fallback setting.
- `ipv6` (String) IPv6 egress setting.

<a id="nestedblock--rule_settings--l4override"></a>
### Nested Schema for `rule_settings.l4override`

#### Optional

- `ip` (String) The IP address for L4 override.
- `port` (Number) The port number for L4 override.

<a id="nestedblock--rule_settings--notification_settings"></a>
### Nested Schema for `rule_settings.notification_settings`

#### Optional

- `enabled` (Boolean) Whether notifications are enabled.
- `include_context` (Boolean) Whether to include context in notifications.
- `msg` (String) The notification message.
- `support_url` (String) The support URL for notifications.

<a id="nestedblock--rule_settings--payload_log"></a>
### Nested Schema for `rule_settings.payload_log`

#### Optional

- `enabled` (Boolean) Whether payload logging is enabled.

<a id="nestedblock--rule_settings--quarantine"></a>
### Nested Schema for `rule_settings.quarantine`

#### Optional

- `file_types` (List of String) The file types to quarantine.

<a id="nestedblock--rule_settings--redirect"></a>
### Nested Schema for `rule_settings.redirect`

#### Required

- `target_uri` (String) The target URI for redirection.

#### Optional

- `include_context` (Boolean) Whether to include context in redirection.
- `preserve_path_and_query` (Boolean) Whether to preserve path and query in redirection.

<a id="nestedblock--rule_settings--resolve_dns_internally"></a>
### Nested Schema for `rule_settings.resolve_dns_internally`

#### Optional

- `fallback` (String) The fallback DNS resolver.
- `view_id` (String) The view ID for DNS resolution.

<a id="nestedblock--rule_settings--untrusted_cert"></a>
### Nested Schema for `rule_settings.untrusted_cert`

#### Optional

- `action` (String) The action for untrusted certificates. 