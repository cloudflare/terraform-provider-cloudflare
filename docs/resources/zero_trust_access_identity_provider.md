---
page_title: "cloudflare_zero_trust_access_identity_provider Resource - Cloudflare"
subcategory: ""
description: |-
  
---

# cloudflare_zero_trust_access_identity_provider (Resource)



## Example Usage

```terraform
resource "cloudflare_zero_trust_access_identity_provider" "example_zero_trust_access_identity_provider" {
  config = {
    claims = ["email_verified", "preferred_username", "custom_claim_name"]
    client_id = "<your client id>"
    client_secret = "<your client secret>"
    conditional_access_enabled = true
    directory_id = "<your azure directory uuid>"
    email_claim_name = "custom_claim_name"
    prompt = "login"
    support_groups = true
  }
  name = "Widget Corps IDP"
  type = "onetimepin"
  zone_id = "zone_id"
  scim_config = {
    enabled = true
    identity_update_behavior = "automatic"
    seat_deprovision = true
    user_deprovision = true
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `config` (Attributes) The configuration parameters for the identity provider. To view the required parameters for a specific provider, refer to our [developer documentation](https://developers.cloudflare.com/cloudflare-one/identity/idp-integration/). (see [below for nested schema](#nestedatt--config))
- `name` (String) The name of the identity provider, shown to users on the login page.
- `type` (String) The type of identity provider. To determine the value for a specific provider, refer to our [developer documentation](https://developers.cloudflare.com/cloudflare-one/identity/idp-integration/).
Available values: "onetimepin", "azureAD", "saml", "centrify", "facebook", "github", "google-apps", "google", "linkedin", "oidc", "okta", "onelogin", "pingone", "yandex".

### Optional

- `account_id` (String) The Account ID to use for this endpoint. Mutually exclusive with the Zone ID.
- `scim_config` (Attributes) The configuration settings for enabling a System for Cross-Domain Identity Management (SCIM) with the identity provider. (see [below for nested schema](#nestedatt--scim_config))
- `zone_id` (String) The Zone ID to use for this endpoint. Mutually exclusive with the Account ID.

### Read-Only

- `id` (String) UUID

<a id="nestedatt--config"></a>
### Nested Schema for `config`

Optional:

- `apps_domain` (String) Your companies TLD
- `attributes` (List of String) A list of SAML attribute names that will be added to your signed JWT token and can be used in SAML policy rules.
- `auth_url` (String) The authorization_endpoint URL of your IdP
- `authorization_server_id` (String) Your okta authorization server id
- `centrify_account` (String) Your centrify account url
- `centrify_app_id` (String) Your centrify app id
- `certs_url` (String) The jwks_uri endpoint of your IdP to allow the IdP keys to sign the tokens
- `claims` (List of String) Custom claims
- `client_id` (String) Your OAuth Client ID
- `client_secret` (String) Your OAuth Client Secret
- `conditional_access_enabled` (Boolean) Should Cloudflare try to load authentication contexts from your account
- `directory_id` (String) Your Azure directory uuid
- `email_attribute_name` (String) The attribute name for email in the SAML response.
- `email_claim_name` (String) The claim name for email in the id_token response.
- `header_attributes` (Attributes List) Add a list of attribute names that will be returned in the response header from the Access callback. (see [below for nested schema](#nestedatt--config--header_attributes))
- `idp_public_certs` (List of String) X509 certificate to verify the signature in the SAML authentication response
- `issuer_url` (String) IdP Entity ID or Issuer URL
- `okta_account` (String) Your okta account url
- `onelogin_account` (String) Your OneLogin account url
- `ping_env_id` (String) Your PingOne environment identifier
- `pkce_enabled` (Boolean) Enable Proof Key for Code Exchange (PKCE)
- `prompt` (String) Indicates the type of user interaction that is required. prompt=login forces the user to enter their credentials on that request, negating single-sign on. prompt=none is the opposite. It ensures that the user isn't presented with any interactive prompt. If the request can't be completed silently by using single-sign on, the Microsoft identity platform returns an interaction_required error. prompt=select_account interrupts single sign-on providing account selection experience listing all the accounts either in session or any remembered account or an option to choose to use a different account altogether.
Available values: "login", "select_account", "none".
- `scopes` (List of String) OAuth scopes
- `sign_request` (Boolean) Sign the SAML authentication request with Access credentials. To verify the signature, use the public key from the Access certs endpoints.
- `sso_target_url` (String) URL to send the SAML authentication requests to
- `support_groups` (Boolean) Should Cloudflare try to load groups from your account
- `token_url` (String) The token_endpoint URL of your IdP

Read-Only:

- `redirect_url` (String)

<a id="nestedatt--config--header_attributes"></a>
### Nested Schema for `config.header_attributes`

Optional:

- `attribute_name` (String) attribute name from the IDP
- `header_name` (String) header that will be added on the request to the origin



<a id="nestedatt--scim_config"></a>
### Nested Schema for `scim_config`

Optional:

- `enabled` (Boolean) A flag to enable or disable SCIM for the identity provider.
- `identity_update_behavior` (String) Indicates how a SCIM event updates a user identity used for policy evaluation. Use "automatic" to automatically update a user's identity and augment it with fields from the SCIM user resource. Use "reauth" to force re-authentication on group membership updates, user identity update will only occur after successful re-authentication. With "reauth" identities will not contain fields from the SCIM user resource. With "no_action" identities will not be changed by SCIM updates in any way and users will not be prompted to reauthenticate.
Available values: "automatic", "reauth", "no_action".
- `seat_deprovision` (Boolean) A flag to remove a user's seat in Zero Trust when they have been deprovisioned in the Identity Provider.  This cannot be enabled unless user_deprovision is also enabled.
- `user_deprovision` (Boolean) A flag to enable revoking a user's session in Access and Gateway when they have been deprovisioned in the Identity Provider.

Read-Only:

- `scim_base_url` (String) The base URL of Cloudflare's SCIM V2.0 API endpoint.
- `secret` (String, Sensitive) A read-only token generated when the SCIM integration is enabled for the first time.  It is redacted on subsequent requests.  If you lose this you will need to refresh it at /access/identity_providers/:idpID/refresh_scim_secret.

## Import

Import is supported using the following syntax:

```shell
$ terraform import cloudflare_zero_trust_access_identity_provider.example '<{accounts|zones}/{account_id|zone_id}>/<identity_provider_id>'
```
