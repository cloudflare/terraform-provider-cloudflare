---
page_title: "cloudflare_access_group Resource - Cloudflare"
subcategory: ""
description: |-
  Provides a Cloudflare Access Group resource. Access Groups are used
  in conjunction with Access Policies to restrict access to a
  particular resource based on group membership.
---

# cloudflare_access_group (Resource)

Provides a Cloudflare Access Group resource. Access Groups are used
in conjunction with Access Policies to restrict access to a
particular resource based on group membership.

~> It's required that an `account_id` or `zone_id` is provided and in
   most cases using either is fine. However, if you're using a scoped
   access token, you must provide the argument that matches the token's
   scope. For example, an access token that is scoped to the "example.com"
   zone needs to use the `zone_id` argument.

## Example Usage

```terraform
# Allowing access to `test@example.com` email address only
resource "cloudflare_access_group" "example" {
  account_id = "f037e56e89293a057740de681ac9abbe"
  name       = "staging group"

  include {
    email = ["test@example.com"]
  }
}

# Allowing `test@example.com` to access but only when coming from a
# specific IP.
resource "cloudflare_access_group" "example" {
  account_id = "f037e56e89293a057740de681ac9abbe"
  name       = "staging group"

  include {
    email = ["test@example.com"]
  }

  require {
    ip = [var.office_ip]
  }
}

# Allow members of an Azure Group. The ID is the group UUID (id) in Azure.
resource "cloudflare_access_group" "example" {
  account_id = "f037e56e89293a057740de681ac9abbe"
  name       = "test_group"

  include {
    azure {
      identity_provider_id = "ca298b82-93b5-41bf-bc2d-10493f09b761"
      id                   = ["86773093-5feb-48dd-814b-7ccd3676ff50"]
    }
  }
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `include` (Block List, Min: 1) (see [below for nested schema](#nestedblock--include))
- `name` (String)

### Optional

- `account_id` (String) The account identifier to target for the resource. Conflicts with `zone_id`. **Modifying this attribute will force creation of a new resource.**
- `exclude` (Block List) (see [below for nested schema](#nestedblock--exclude))
- `require` (Block List) (see [below for nested schema](#nestedblock--require))
- `zone_id` (String) The zone identifier to target for the resource. Conflicts with `account_id`.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--include"></a>
### Nested Schema for `include`

Optional:

- `any_valid_service_token` (Boolean) Matches any valid Access service token.
- `auth_context` (Block List) (see [below for nested schema](#nestedblock--include--auth_context))
- `auth_method` (String) The type of authentication method. Refer to https://datatracker.ietf.org/doc/html/rfc8176#section-2 for possible types.
- `azure` (Block List) Matches an Azure group. Requires an Azure identity provider. (see [below for nested schema](#nestedblock--include--azure))
- `certificate` (Boolean) Matches any valid client certificate.
- `common_name` (String) Matches a valid client certificate common name.
- `common_names` (List of String) Overflow field if you need to have multiple common_name rules in a single policy.  Use in place of the singular common_name field.
- `device_posture` (List of String) The ID of a device posture integration.
- `email` (List of String) The email of the user.
- `email_domain` (List of String) The email domain to match.
- `email_list` (List of String) The ID of a previously created email list.
- `everyone` (Boolean) Matches everyone.
- `external_evaluation` (Block List) Create Allow or Block policies which evaluate the user based on custom criteria. https://developers.cloudflare.com/cloudflare-one/policies/access/external-evaluation/. (see [below for nested schema](#nestedblock--include--external_evaluation))
- `geo` (List of String) Matches a specific country.
- `github` (Block List) Matches a Github organization. Requires a Github identity provider. (see [below for nested schema](#nestedblock--include--github))
- `group` (List of String) The ID of a previously created Access group.
- `gsuite` (Block List) Matches a group in Google Workspace. Requires a Google Workspace identity provider. (see [below for nested schema](#nestedblock--include--gsuite))
- `ip` (List of String) An IPv4 or IPv6 CIDR block.
- `ip_list` (List of String) The ID of a previously created IP list.
- `login_method` (List of String) The ID of a configured identity provider.
- `okta` (Block List) Matches an Okta group. Requires an Okta identity provider. (see [below for nested schema](#nestedblock--include--okta))
- `saml` (Block List) Matches a SAML group. Requires a SAML identity provider. (see [below for nested schema](#nestedblock--include--saml))
- `service_token` (List of String) The ID of an Access service token.

<a id="nestedblock--include--auth_context"></a>
### Nested Schema for `include.auth_context`

Required:

- `ac_id` (String) The ACID of the Authentication Context.
- `id` (String) The ID of the Authentication Context.
- `identity_provider_id` (String) The ID of the Azure identity provider.


<a id="nestedblock--include--azure"></a>
### Nested Schema for `include.azure`

Optional:

- `id` (List of String) The ID of the Azure group or user.
- `identity_provider_id` (String) The ID of the Azure identity provider.


<a id="nestedblock--include--external_evaluation"></a>
### Nested Schema for `include.external_evaluation`

Optional:

- `evaluate_url` (String) The API endpoint containing your business logic.
- `keys_url` (String) The API endpoint containing the key that Access uses to verify that the response came from your API.


<a id="nestedblock--include--github"></a>
### Nested Schema for `include.github`

Optional:

- `identity_provider_id` (String) The ID of your Github identity provider.
- `name` (String) The name of the organization.
- `teams` (List of String) The teams that should be matched.


<a id="nestedblock--include--gsuite"></a>
### Nested Schema for `include.gsuite`

Required:

- `email` (List of String) The email of the Google Workspace group.
- `identity_provider_id` (String) The ID of your Google Workspace identity provider.


<a id="nestedblock--include--okta"></a>
### Nested Schema for `include.okta`

Optional:

- `identity_provider_id` (String) The ID of your Okta identity provider.
- `name` (List of String) The name of the Okta Group.


<a id="nestedblock--include--saml"></a>
### Nested Schema for `include.saml`

Optional:

- `attribute_name` (String) The name of the SAML attribute.
- `attribute_value` (String) The SAML attribute value to look for.
- `identity_provider_id` (String) The ID of your SAML identity provider.



<a id="nestedblock--exclude"></a>
### Nested Schema for `exclude`

Optional:

- `any_valid_service_token` (Boolean) Matches any valid Access service token.
- `auth_context` (Block List) (see [below for nested schema](#nestedblock--exclude--auth_context))
- `auth_method` (String) The type of authentication method. Refer to https://datatracker.ietf.org/doc/html/rfc8176#section-2 for possible types.
- `azure` (Block List) Matches an Azure group. Requires an Azure identity provider. (see [below for nested schema](#nestedblock--exclude--azure))
- `certificate` (Boolean) Matches any valid client certificate.
- `common_name` (String) Matches a valid client certificate common name.
- `common_names` (List of String) Overflow field if you need to have multiple common_name rules in a single policy.  Use in place of the singular common_name field.
- `device_posture` (List of String) The ID of a device posture integration.
- `email` (List of String) The email of the user.
- `email_domain` (List of String) The email domain to match.
- `email_list` (List of String) The ID of a previously created email list.
- `everyone` (Boolean) Matches everyone.
- `external_evaluation` (Block List) Create Allow or Block policies which evaluate the user based on custom criteria. https://developers.cloudflare.com/cloudflare-one/policies/access/external-evaluation/. (see [below for nested schema](#nestedblock--exclude--external_evaluation))
- `geo` (List of String) Matches a specific country.
- `github` (Block List) Matches a Github organization. Requires a Github identity provider. (see [below for nested schema](#nestedblock--exclude--github))
- `group` (List of String) The ID of a previously created Access group.
- `gsuite` (Block List) Matches a group in Google Workspace. Requires a Google Workspace identity provider. (see [below for nested schema](#nestedblock--exclude--gsuite))
- `ip` (List of String) An IPv4 or IPv6 CIDR block.
- `ip_list` (List of String) The ID of a previously created IP list.
- `login_method` (List of String) The ID of a configured identity provider.
- `okta` (Block List) Matches an Okta group. Requires an Okta identity provider. (see [below for nested schema](#nestedblock--exclude--okta))
- `saml` (Block List) Matches a SAML group. Requires a SAML identity provider. (see [below for nested schema](#nestedblock--exclude--saml))
- `service_token` (List of String) The ID of an Access service token.

<a id="nestedblock--exclude--auth_context"></a>
### Nested Schema for `exclude.auth_context`

Required:

- `ac_id` (String) The ACID of the Authentication Context.
- `id` (String) The ID of the Authentication Context.
- `identity_provider_id` (String) The ID of the Azure identity provider.


<a id="nestedblock--exclude--azure"></a>
### Nested Schema for `exclude.azure`

Optional:

- `id` (List of String) The ID of the Azure group or user.
- `identity_provider_id` (String) The ID of the Azure identity provider.


<a id="nestedblock--exclude--external_evaluation"></a>
### Nested Schema for `exclude.external_evaluation`

Optional:

- `evaluate_url` (String) The API endpoint containing your business logic.
- `keys_url` (String) The API endpoint containing the key that Access uses to verify that the response came from your API.


<a id="nestedblock--exclude--github"></a>
### Nested Schema for `exclude.github`

Optional:

- `identity_provider_id` (String) The ID of your Github identity provider.
- `name` (String) The name of the organization.
- `teams` (List of String) The teams that should be matched.


<a id="nestedblock--exclude--gsuite"></a>
### Nested Schema for `exclude.gsuite`

Required:

- `email` (List of String) The email of the Google Workspace group.
- `identity_provider_id` (String) The ID of your Google Workspace identity provider.


<a id="nestedblock--exclude--okta"></a>
### Nested Schema for `exclude.okta`

Optional:

- `identity_provider_id` (String) The ID of your Okta identity provider.
- `name` (List of String) The name of the Okta Group.


<a id="nestedblock--exclude--saml"></a>
### Nested Schema for `exclude.saml`

Optional:

- `attribute_name` (String) The name of the SAML attribute.
- `attribute_value` (String) The SAML attribute value to look for.
- `identity_provider_id` (String) The ID of your SAML identity provider.



<a id="nestedblock--require"></a>
### Nested Schema for `require`

Optional:

- `any_valid_service_token` (Boolean) Matches any valid Access service token.
- `auth_context` (Block List) (see [below for nested schema](#nestedblock--require--auth_context))
- `auth_method` (String) The type of authentication method. Refer to https://datatracker.ietf.org/doc/html/rfc8176#section-2 for possible types.
- `azure` (Block List) Matches an Azure group. Requires an Azure identity provider. (see [below for nested schema](#nestedblock--require--azure))
- `certificate` (Boolean) Matches any valid client certificate.
- `common_name` (String) Matches a valid client certificate common name.
- `common_names` (List of String) Overflow field if you need to have multiple common_name rules in a single policy.  Use in place of the singular common_name field.
- `device_posture` (List of String) The ID of a device posture integration.
- `email` (List of String) The email of the user.
- `email_domain` (List of String) The email domain to match.
- `email_list` (List of String) The ID of a previously created email list.
- `everyone` (Boolean) Matches everyone.
- `external_evaluation` (Block List) Create Allow or Block policies which evaluate the user based on custom criteria. https://developers.cloudflare.com/cloudflare-one/policies/access/external-evaluation/. (see [below for nested schema](#nestedblock--require--external_evaluation))
- `geo` (List of String) Matches a specific country.
- `github` (Block List) Matches a Github organization. Requires a Github identity provider. (see [below for nested schema](#nestedblock--require--github))
- `group` (List of String) The ID of a previously created Access group.
- `gsuite` (Block List) Matches a group in Google Workspace. Requires a Google Workspace identity provider. (see [below for nested schema](#nestedblock--require--gsuite))
- `ip` (List of String) An IPv4 or IPv6 CIDR block.
- `ip_list` (List of String) The ID of a previously created IP list.
- `login_method` (List of String) The ID of a configured identity provider.
- `okta` (Block List) Matches an Okta group. Requires an Okta identity provider. (see [below for nested schema](#nestedblock--require--okta))
- `saml` (Block List) Matches a SAML group. Requires a SAML identity provider. (see [below for nested schema](#nestedblock--require--saml))
- `service_token` (List of String) The ID of an Access service token.

<a id="nestedblock--require--auth_context"></a>
### Nested Schema for `require.auth_context`

Required:

- `ac_id` (String) The ACID of the Authentication Context.
- `id` (String) The ID of the Authentication Context.
- `identity_provider_id` (String) The ID of the Azure identity provider.


<a id="nestedblock--require--azure"></a>
### Nested Schema for `require.azure`

Optional:

- `id` (List of String) The ID of the Azure group or user.
- `identity_provider_id` (String) The ID of the Azure identity provider.


<a id="nestedblock--require--external_evaluation"></a>
### Nested Schema for `require.external_evaluation`

Optional:

- `evaluate_url` (String) The API endpoint containing your business logic.
- `keys_url` (String) The API endpoint containing the key that Access uses to verify that the response came from your API.


<a id="nestedblock--require--github"></a>
### Nested Schema for `require.github`

Optional:

- `identity_provider_id` (String) The ID of your Github identity provider.
- `name` (String) The name of the organization.
- `teams` (List of String) The teams that should be matched.


<a id="nestedblock--require--gsuite"></a>
### Nested Schema for `require.gsuite`

Required:

- `email` (List of String) The email of the Google Workspace group.
- `identity_provider_id` (String) The ID of your Google Workspace identity provider.


<a id="nestedblock--require--okta"></a>
### Nested Schema for `require.okta`

Optional:

- `identity_provider_id` (String) The ID of your Okta identity provider.
- `name` (List of String) The name of the Okta Group.


<a id="nestedblock--require--saml"></a>
### Nested Schema for `require.saml`

Optional:

- `attribute_name` (String) The name of the SAML attribute.
- `attribute_value` (String) The SAML attribute value to look for.
- `identity_provider_id` (String) The ID of your SAML identity provider.

## Import

Import is supported using the following syntax:

```shell
$ terraform import cloudflare_access_group.example <account_id>/<group_id>
```
