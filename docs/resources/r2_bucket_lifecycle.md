---
page_title: "cloudflare_r2_bucket_lifecycle Resource - Cloudflare"
subcategory: ""
description: |-
  
---

# cloudflare_r2_bucket_lifecycle (Resource)



## Example Usage

```terraform
resource "cloudflare_r2_bucket_lifecycle" "example_r2_bucket_lifecycle" {
  account_id = "023e105f4ecef8ad9ca31a8372d0c353"
  bucket_name = "example-bucket"
  rules = [{
    id = "Expire all objects older than 24 hours"
    conditions = {
      prefix = "prefix"
    }
    enabled = true
    abort_multipart_uploads_transition = {
      condition = {
        max_age = 0
        type = "Age"
      }
    }
    delete_objects_transition = {
      condition = {
        max_age = 0
        type = "Age"
      }
    }
    storage_class_transitions = [{
      condition = {
        max_age = 0
        type = "Age"
      }
      storage_class = "InfrequentAccess"
    }]
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_id` (String) Account ID
- `bucket_name` (String) Name of the bucket

### Optional

- `rules` (Attributes List) (see [below for nested schema](#nestedatt--rules))

<a id="nestedatt--rules"></a>
### Nested Schema for `rules`

Required:

- `conditions` (Attributes) Conditions that apply to all transitions of this rule (see [below for nested schema](#nestedatt--rules--conditions))
- `enabled` (Boolean) Whether or not this rule is in effect
- `id` (String) Unique identifier for this rule

Optional:

- `abort_multipart_uploads_transition` (Attributes) Transition to abort ongoing multipart uploads (see [below for nested schema](#nestedatt--rules--abort_multipart_uploads_transition))
- `delete_objects_transition` (Attributes) Transition to delete objects (see [below for nested schema](#nestedatt--rules--delete_objects_transition))
- `storage_class_transitions` (Attributes List) Transitions to change the storage class of objects (see [below for nested schema](#nestedatt--rules--storage_class_transitions))

<a id="nestedatt--rules--conditions"></a>
### Nested Schema for `rules.conditions`

Required:

- `prefix` (String) Transitions will only apply to objects/uploads in the bucket that start with the given prefix, an empty prefix can be provided to scope rule to all objects/uploads


<a id="nestedatt--rules--abort_multipart_uploads_transition"></a>
### Nested Schema for `rules.abort_multipart_uploads_transition`

Optional:

- `condition` (Attributes) Condition for lifecycle transitions to apply after an object reaches an age in seconds (see [below for nested schema](#nestedatt--rules--abort_multipart_uploads_transition--condition))

<a id="nestedatt--rules--abort_multipart_uploads_transition--condition"></a>
### Nested Schema for `rules.abort_multipart_uploads_transition.condition`

Required:

- `max_age` (Number)
- `type` (String)



<a id="nestedatt--rules--delete_objects_transition"></a>
### Nested Schema for `rules.delete_objects_transition`

Optional:

- `condition` (Attributes) Condition for lifecycle transitions to apply after an object reaches an age in seconds (see [below for nested schema](#nestedatt--rules--delete_objects_transition--condition))

<a id="nestedatt--rules--delete_objects_transition--condition"></a>
### Nested Schema for `rules.delete_objects_transition.condition`

Required:

- `type` (String)

Optional:

- `date` (String)
- `max_age` (Number)



<a id="nestedatt--rules--storage_class_transitions"></a>
### Nested Schema for `rules.storage_class_transitions`

Required:

- `condition` (Attributes) Condition for lifecycle transitions to apply after an object reaches an age in seconds (see [below for nested schema](#nestedatt--rules--storage_class_transitions--condition))
- `storage_class` (String)

<a id="nestedatt--rules--storage_class_transitions--condition"></a>
### Nested Schema for `rules.storage_class_transitions.condition`

Required:

- `type` (String)

Optional:

- `date` (String)
- `max_age` (Number)


