---
page_title: "cloudflare_worker_version Resource - Cloudflare"
subcategory: ""
description: |-
  
---

# cloudflare_worker_version (Resource)



## Example Usage

```terraform
resource "cloudflare_worker_version" "example_worker_version" {
  account_id = "023e105f4ecef8ad9ca31a8372d0c353"
  worker_id = "023e105f4ecef8ad9ca31a8372d0c353"
  annotations = {
    workers_message = "Fixed bug."
    workers_tag = "v1.0.1"
  }
  assets = {
    config = {
      html_handling = "auto-trailing-slash"
      not_found_handling = "404-page"
      run_worker_first = ["string"]
    }
    jwt = "jwt"
  }
  bindings = [{
    name = "MY_ENV_VAR"
    text = "my_data"
    type = "plain_text"
  }]
  compatibility_date = "2021-01-01"
  compatibility_flags = ["nodejs_compat"]
  limits = {
    cpu_ms = 50
  }
  main_module = "index.js"
  migrations = {
    deleted_classes = ["string"]
    new_classes = ["string"]
    new_sqlite_classes = ["string"]
    new_tag = "v2"
    old_tag = "v1"
    renamed_classes = [{
      from = "from"
      to = "to"
    }]
    transferred_classes = [{
      from = "from"
      from_script = "from_script"
      to = "to"
    }]
  }
  modules = [{
    content_file = "dist/index.js"
    content_type = "application/javascript+module"
    name = "index.js"
  }]
  placement = {
    mode = "smart"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_id` (String) Identifier.
- `worker_id` (String) Identifier.

### Optional

- `annotations` (Attributes) Metadata about the version. (see [below for nested schema](#nestedatt--annotations))
- `assets` (Attributes) Configuration for assets within a Worker. (see [below for nested schema](#nestedatt--assets))
- `bindings` (Attributes List) List of bindings attached to a Worker. You can find more about bindings on our docs: https://developers.cloudflare.com/workers/configuration/multipart-upload-metadata/#bindings. (see [below for nested schema](#nestedatt--bindings))
- `compatibility_date` (String) Date indicating targeted support in the Workers runtime. Backwards incompatible fixes to the runtime following this date will not affect this Worker.
- `compatibility_flags` (Set of String) Flags that enable or disable certain features in the Workers runtime. Used to enable upcoming features or opt in or out of specific changes not included in a `compatibility_date`.
- `limits` (Attributes) Resource limits enforced at runtime. (see [below for nested schema](#nestedatt--limits))
- `main_module` (String) The name of the main module in the `modules` array (e.g. the name of the module that exports a `fetch` handler).
- `migrations` (Attributes) Migrations for Durable Objects associated with the version. Migrations are applied when the version is deployed. (see [below for nested schema](#nestedatt--migrations))
- `modules` (Attributes Set) Code, sourcemaps, and other content used at runtime. (see [below for nested schema](#nestedatt--modules))
- `placement` (Attributes) Placement settings for the version. (see [below for nested schema](#nestedatt--placement))
- `usage_model` (String, Deprecated) Usage model for the version.
Available values: "standard", "bundled", "unbound".

### Read-Only

- `created_on` (String) When the version was created.
- `id` (String) Version identifier.
- `number` (Number) The integer version number, starting from one.
- `source` (String) The client used to create the version.

<a id="nestedatt--annotations"></a>
### Nested Schema for `annotations`

Optional:

- `workers_message` (String) Human-readable message about the version.
- `workers_tag` (String) User-provided identifier for the version.

Read-Only:

- `workers_triggered_by` (String) Operation that triggered the creation of the version.


<a id="nestedatt--assets"></a>
### Nested Schema for `assets`

Optional:

- `config` (Attributes) Configuration for assets within a Worker. (see [below for nested schema](#nestedatt--assets--config))
- `jwt` (String, Sensitive) Token provided upon successful upload of all files from a registered manifest.

<a id="nestedatt--assets--config"></a>
### Nested Schema for `assets.config`

Optional:

- `html_handling` (String) Determines the redirects and rewrites of requests for HTML content.
Available values: "auto-trailing-slash", "force-trailing-slash", "drop-trailing-slash", "none".
- `not_found_handling` (String) Determines the response when a request does not match a static asset, and there is no Worker script.
Available values: "none", "404-page", "single-page-application".
- `run_worker_first` (List of String) Contains a list path rules to control routing to either the Worker or assets. Glob (*) and negative (!) rules are supported. Rules must start with either '/' or '!/'. At least one non-negative rule must be provided, and negative rules have higher precedence than non-negative rules.



<a id="nestedatt--bindings"></a>
### Nested Schema for `bindings`

Required:

- `name` (String) A JavaScript variable name for the binding.
- `type` (String) The kind of resource that the binding provides.
Available values: "ai", "analytics_engine", "assets", "browser", "d1", "dispatch_namespace", "durable_object_namespace", "hyperdrive", "json", "kv_namespace", "mtls_certificate", "plain_text", "pipelines", "queue", "r2_bucket", "secret_text", "service", "tail_consumer", "vectorize", "version_metadata", "secrets_store_secret", "secret_key", "workflow".

Optional:

- `algorithm` (String) Algorithm-specific key parameters. [Learn more](https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/importKey#algorithm).
- `bucket_name` (String) R2 bucket to bind to.
- `certificate_id` (String) Identifier of the certificate to bind to.
- `class_name` (String) The exported class name of the Durable Object.
- `dataset` (String) The name of the dataset to bind to.
- `environment` (String) The environment of the script_name to bind to.
- `format` (String) Data format of the key. [Learn more](https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/importKey#format).
Available values: "raw", "pkcs8", "spki", "jwk".
- `id` (String) Identifier of the D1 database to bind to.
- `index_name` (String) Name of the Vectorize index to bind to.
- `json` (String) JSON data to use.
- `key_base64` (String, Sensitive) Base64-encoded key data. Required if `format` is "raw", "pkcs8", or "spki".
- `key_jwk` (String, Sensitive) Key data in [JSON Web Key](https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/importKey#json_web_key) format. Required if `format` is "jwk".
- `namespace` (String) Namespace to bind to.
- `namespace_id` (String) Namespace identifier tag.
- `outbound` (Attributes) Outbound worker. (see [below for nested schema](#nestedatt--bindings--outbound))
- `pipeline` (String) Name of the Pipeline to bind to.
- `queue_name` (String) Name of the Queue to bind to.
- `script_name` (String) The script where the Durable Object is defined, if it is external to this Worker.
- `secret_name` (String) Name of the secret in the store.
- `service` (String) Name of Worker to bind to.
- `store_id` (String) ID of the store containing the secret.
- `text` (String, Sensitive) The text value to use.
- `usages` (Set of String) Allowed operations with the key. [Learn more](https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/importKey#keyUsages).
- `workflow_name` (String) Name of the Workflow to bind to.

<a id="nestedatt--bindings--outbound"></a>
### Nested Schema for `bindings.outbound`

Optional:

- `params` (List of String) Pass information from the Dispatch Worker to the Outbound Worker through the parameters.
- `worker` (Attributes) Outbound worker. (see [below for nested schema](#nestedatt--bindings--outbound--worker))

<a id="nestedatt--bindings--outbound--worker"></a>
### Nested Schema for `bindings.outbound.worker`

Optional:

- `environment` (String) Environment of the outbound worker.
- `service` (String) Name of the outbound worker.




<a id="nestedatt--limits"></a>
### Nested Schema for `limits`

Required:

- `cpu_ms` (Number) CPU time limit in milliseconds.


<a id="nestedatt--migrations"></a>
### Nested Schema for `migrations`

Optional:

- `deleted_classes` (List of String) A list of classes to delete Durable Object namespaces from.
- `new_classes` (List of String) A list of classes to create Durable Object namespaces from.
- `new_sqlite_classes` (List of String) A list of classes to create Durable Object namespaces with SQLite from.
- `new_tag` (String) Tag to set as the latest migration tag.
- `old_tag` (String) Tag used to verify against the latest migration tag for this Worker. If they don't match, the upload is rejected.
- `renamed_classes` (Attributes List) A list of classes with Durable Object namespaces that were renamed. (see [below for nested schema](#nestedatt--migrations--renamed_classes))
- `steps` (Attributes List) Migrations to apply in order. (see [below for nested schema](#nestedatt--migrations--steps))
- `transferred_classes` (Attributes List) A list of transfers for Durable Object namespaces from a different Worker and class to a class defined in this Worker. (see [below for nested schema](#nestedatt--migrations--transferred_classes))

<a id="nestedatt--migrations--renamed_classes"></a>
### Nested Schema for `migrations.renamed_classes`

Optional:

- `from` (String)
- `to` (String)


<a id="nestedatt--migrations--steps"></a>
### Nested Schema for `migrations.steps`

Optional:

- `deleted_classes` (List of String) A list of classes to delete Durable Object namespaces from.
- `new_classes` (List of String) A list of classes to create Durable Object namespaces from.
- `new_sqlite_classes` (List of String) A list of classes to create Durable Object namespaces with SQLite from.
- `renamed_classes` (Attributes List) A list of classes with Durable Object namespaces that were renamed. (see [below for nested schema](#nestedatt--migrations--steps--renamed_classes))
- `transferred_classes` (Attributes List) A list of transfers for Durable Object namespaces from a different Worker and class to a class defined in this Worker. (see [below for nested schema](#nestedatt--migrations--steps--transferred_classes))

<a id="nestedatt--migrations--steps--renamed_classes"></a>
### Nested Schema for `migrations.steps.renamed_classes`

Optional:

- `from` (String)
- `to` (String)


<a id="nestedatt--migrations--steps--transferred_classes"></a>
### Nested Schema for `migrations.steps.transferred_classes`

Optional:

- `from` (String)
- `from_script` (String)
- `to` (String)



<a id="nestedatt--migrations--transferred_classes"></a>
### Nested Schema for `migrations.transferred_classes`

Optional:

- `from` (String)
- `from_script` (String)
- `to` (String)



<a id="nestedatt--modules"></a>
### Nested Schema for `modules`

Required:

- `content_file` (String) The file path of the module content.
- `content_type` (String) The content type of the module.
- `name` (String) The name of the module.

Read-Only:

- `content_sha256` (String) The SHA-256 hash of the module content.


<a id="nestedatt--placement"></a>
### Nested Schema for `placement`

Optional:

- `mode` (String) Placement mode for the version.
Available values: "smart".

## Import

Import is supported using the following syntax:

```shell
$ terraform import cloudflare_worker_version.example '<account_id>/<worker_id>/<version_id>'
```
