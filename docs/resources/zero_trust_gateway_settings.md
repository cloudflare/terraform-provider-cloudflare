---
page_title: "cloudflare_zero_trust_gateway_settings Resource - Cloudflare"
subcategory: ""
description: |-
  
---

# cloudflare_zero_trust_gateway_settings (Resource)



## Example Usage

```terraform
resource "cloudflare_zero_trust_gateway_settings" "example" {
  account_id                 = "f037e56e89293a057740de681ac9abbe"
  tls_decrypt_enabled        = true
  protocol_detection_enabled = true

  block_page = {
    footer_text      = "hello"
    header_text      = "hello"
    logo_path        = "https://example.com/logo.jpg"
    background_color = "#000000"
  }

  body_scanning = {
    inspection_mode = "deep"
  }

  antivirus = {
    enabled_download_phase = true
    enabled_upload_phase   = false
    fail_closed            = true
    notification_settings = [{
      enabled     = true
      message     = "you are blocked"
      support_url = "https://example.com/blocked"
    }]
  }

  fips = {
    tls = true
  }

  proxy = {
    tcp        = true
    udp        = true
    root_ca    = true
    virtual_ip = false
  }

  url_browser_isolation_enabled = true

  logging = {
    redact_pii = true
    settings_by_rule_type = [{
      dns = {
    log_all    = false
        log_blocks = true
  }
      http = {
    log_all    = true
        log_blocks = true
  }
      l4 = {
    log_all    = false
        log_blocks = true
  }
    }]
  }

  extended_email_matching = [{
    enabled = true
  }]
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_id` (String)

### Optional

- `settings` (Attributes) account settings. (see [below for nested schema](#nestedatt--settings))

### Read-Only

- `created_at` (String)
- `id` (String) The ID of this resource.
- `updated_at` (String)

<a id="nestedatt--settings"></a>
### Nested Schema for `settings`

Optional:

- `activity_log` (Attributes) Activity log settings. (see [below for nested schema](#nestedatt--settings--activity_log))
- `antivirus` (Attributes) Anti-virus settings. (see [below for nested schema](#nestedatt--settings--antivirus))
- `block_page` (Attributes) Block page layout settings. (see [below for nested schema](#nestedatt--settings--block_page))
- `body_scanning` (Attributes) DLP body scanning settings. (see [below for nested schema](#nestedatt--settings--body_scanning))
- `browser_isolation` (Attributes) Browser isolation settings. (see [below for nested schema](#nestedatt--settings--browser_isolation))
- `certificate` (Attributes) Certificate settings for Gateway TLS interception. If not specified, the Cloudflare Root CA will be used. (see [below for nested schema](#nestedatt--settings--certificate))
- `custom_certificate` (Attributes) Custom certificate settings for BYO-PKI. (deprecated and replaced by `certificate`) (see [below for nested schema](#nestedatt--settings--custom_certificate))
- `extended_email_matching` (Attributes) Extended e-mail matching settings. (see [below for nested schema](#nestedatt--settings--extended_email_matching))
- `fips` (Attributes) FIPS settings. (see [below for nested schema](#nestedatt--settings--fips))
- `protocol_detection` (Attributes) Protocol Detection settings. (see [below for nested schema](#nestedatt--settings--protocol_detection))
- `sandbox` (Attributes) Sandbox settings. (see [below for nested schema](#nestedatt--settings--sandbox))
- `tls_decrypt` (Attributes) TLS interception settings. (see [below for nested schema](#nestedatt--settings--tls_decrypt))

<a id="nestedatt--settings--activity_log"></a>
### Nested Schema for `settings.activity_log`

Optional:

- `enabled` (Boolean) Enable activity logging.


<a id="nestedatt--settings--antivirus"></a>
### Nested Schema for `settings.antivirus`

Optional:

- `enabled_download_phase` (Boolean) Enable anti-virus scanning on downloads.
- `enabled_upload_phase` (Boolean) Enable anti-virus scanning on uploads.
- `fail_closed` (Boolean) Block requests for files that cannot be scanned.
- `notification_settings` (Attributes) Configure a message to display on the user's device when an antivirus search is performed. (see [below for nested schema](#nestedatt--settings--antivirus--notification_settings))

<a id="nestedatt--settings--antivirus--notification_settings"></a>
### Nested Schema for `settings.antivirus.notification_settings`

Optional:

- `enabled` (Boolean) Set notification on
- `msg` (String) Customize the message shown in the notification.
- `support_url` (String) Optional URL to direct users to additional information. If not set, the notification will open a block page.



<a id="nestedatt--settings--block_page"></a>
### Nested Schema for `settings.block_page`

Optional:

- `background_color` (String) Block page background color in #rrggbb format.
- `enabled` (Boolean) Enable only cipher suites and TLS versions compliant with FIPS 140-2.
- `footer_text` (String) Block page footer text.
- `header_text` (String) Block page header text.
- `logo_path` (String) Full URL to the logo file.
- `mailto_address` (String) Admin email for users to contact.
- `mailto_subject` (String) Subject line for emails created from block page.
- `name` (String) Block page title.
- `suppress_footer` (Boolean) Suppress detailed info at the bottom of the block page.


<a id="nestedatt--settings--body_scanning"></a>
### Nested Schema for `settings.body_scanning`

Optional:

- `inspection_mode` (String) Set the inspection mode to either `deep` or `shallow`.


<a id="nestedatt--settings--browser_isolation"></a>
### Nested Schema for `settings.browser_isolation`

Optional:

- `non_identity_enabled` (Boolean) Enable non-identity onramp support for Browser Isolation.
- `url_browser_isolation_enabled` (Boolean) Enable Clientless Browser Isolation.


<a id="nestedatt--settings--certificate"></a>
### Nested Schema for `settings.certificate`

Required:

- `id` (String) UUID of certificate to be used for interception. Certificate must be active on the edge. A nil UUID will indicate the Cloudflare Root CA should be used.


<a id="nestedatt--settings--custom_certificate"></a>
### Nested Schema for `settings.custom_certificate`

Required:

- `enabled` (Boolean) Enable use of custom certificate authority for signing Gateway traffic.

Optional:

- `id` (String) UUID of certificate (ID from MTLS certificate store).

Read-Only:

- `binding_status` (String) Certificate status (internal).
- `updated_at` (String)


<a id="nestedatt--settings--extended_email_matching"></a>
### Nested Schema for `settings.extended_email_matching`

Optional:

- `enabled` (Boolean) Enable matching all variants of user emails (with + or . modifiers) used as criteria in Firewall policies.


<a id="nestedatt--settings--fips"></a>
### Nested Schema for `settings.fips`

Optional:

- `tls` (Boolean) Enable only cipher suites and TLS versions compliant with FIPS 140-2.


<a id="nestedatt--settings--protocol_detection"></a>
### Nested Schema for `settings.protocol_detection`

Optional:

- `enabled` (Boolean) Enable detecting protocol on initial bytes of client traffic.


<a id="nestedatt--settings--sandbox"></a>
### Nested Schema for `settings.sandbox`

Optional:

- `enabled` (Boolean) Enable sandbox.
- `fallback_action` (String) Action to take when the file cannot be scanned.


<a id="nestedatt--settings--tls_decrypt"></a>
### Nested Schema for `settings.tls_decrypt`

Optional:

- `enabled` (Boolean) Enable inspecting encrypted HTTP traffic.

## Import

Import is supported using the following syntax:

```shell
$ terraform import cloudflare_zero_trust_gateway_settings.example <account_id>
```
