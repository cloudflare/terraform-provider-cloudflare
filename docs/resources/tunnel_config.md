---
page_title: "cloudflare_tunnel_config Resource - Cloudflare"
subcategory: ""
description: |-
  
---

# cloudflare_tunnel_config (Resource)



## Example Usage

```terraform
resource "cloudflare_tunnel" "example_tunnel" {
  account_id = "f037e56e89293a057740de681ac9abbe"
  name       = "example_tunnel"
  secret     = "<32 character secret>"
}

resource "cloudflare_tunnel_config" "example_config" {
  account_id = "f037e56e89293a057740de681ac9abbe"
  tunnel_id  = cloudflare_tunnel.example_tunnel.id

  config = {
    warp_routing = [{
      enabled = true
    }]
    origin_request = [{
      connect_timeout          = "1m0s"
      tls_timeout              = "1m0s"
      tcp_keep_alive           = "1m0s"
      no_happy_eyeballs        = false
      keep_alive_connections   = 1024
      keep_alive_timeout       = "1m0s"
      http_host_header         = "baz"
      origin_server_name       = "foobar"
      ca_pool                  = "/path/to/unsigned/ca/pool"
      no_tls_verify            = false
      disable_chunked_encoding = false
      bastion_mode             = false
      proxy_address            = "10.0.0.1"
      proxy_port               = "8123"
      proxy_type               = "socks"
      ip_rules = [{
        prefix = "/web"
        ports  = [80, 443]
        allow  = false
      }]
    }]
    ingress_rule = [{
      hostname = "foo"
      path     = "/bar"
      service  = "http://10.0.0.2:8080"
      origin_request = [{
        connect_timeout = "2m0s"
        access = [{
          required  = true
          team_name = "terraform"
          aud_tag   = ["AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"]
        }]
      }]
      },
      {
        service = "https://10.0.0.3:8081"
    }]

  }
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_id` (String) Cloudflare account ID
- `tunnel_id` (String) UUID of the tunnel.

### Optional

- `config` (Attributes) The tunnel configuration and ingress rules. (see [below for nested schema](#nestedatt--config))

<a id="nestedatt--config"></a>
### Nested Schema for `config`

Optional:

- `ingress` (Attributes List) List of public hostname definitions (see [below for nested schema](#nestedatt--config--ingress))
- `origin_request` (Attributes) Configuration parameters for the public hostname specific connection settings between cloudflared and origin server. (see [below for nested schema](#nestedatt--config--origin_request))
- `warp_routing` (Attributes) Enable private network access from WARP users to private network routes (see [below for nested schema](#nestedatt--config--warp_routing))

<a id="nestedatt--config--ingress"></a>
### Nested Schema for `config.ingress`

Required:

- `hostname` (String) Public hostname for this service.
- `service` (String) Protocol and address of destination server. Supported protocols: http://, https://, unix://, tcp://, ssh://, rdp://, unix+tls://, smb://. Alternatively can return a HTTP status code http_status:[code] e.g. 'http_status:404'.

Optional:

- `origin_request` (Attributes) Configuration parameters for the public hostname specific connection settings between cloudflared and origin server. (see [below for nested schema](#nestedatt--config--ingress--origin_request))
- `path` (String) Requests with this path route to this public hostname.

<a id="nestedatt--config--ingress--origin_request"></a>
### Nested Schema for `config.ingress.origin_request`

Optional:

- `access` (Attributes) For all L7 requests to this hostname, cloudflared will validate each request's Cf-Access-Jwt-Assertion request header. (see [below for nested schema](#nestedatt--config--ingress--origin_request--access))
- `ca_pool` (String) Path to the certificate authority (CA) for the certificate of your origin. This option should be used only if your certificate is not signed by Cloudflare.
- `connect_timeout` (Number) Timeout for establishing a new TCP connection to your origin server. This excludes the time taken to establish TLS, which is controlled by tlsTimeout.
- `disable_chunked_encoding` (Boolean) Disables chunked transfer encoding. Useful if you are running a WSGI server.
- `http2_origin` (Boolean) Attempt to connect to origin using HTTP2. Origin must be configured as https.
- `http_host_header` (String) Sets the HTTP Host header on requests sent to the local service.
- `keep_alive_connections` (Number) Maximum number of idle keepalive connections between Tunnel and your origin. This does not restrict the total number of concurrent connections.
- `keep_alive_timeout` (Number) Timeout after which an idle keepalive connection can be discarded.
- `no_happy_eyeballs` (Boolean) Disable the “happy eyeballs” algorithm for IPv4/IPv6 fallback if your local network has misconfigured one of the protocols.
- `no_tls_verify` (Boolean) Disables TLS verification of the certificate presented by your origin. Will allow any certificate from the origin to be accepted.
- `origin_server_name` (String) Hostname that cloudflared should expect from your origin server certificate.
- `proxy_type` (String) cloudflared starts a proxy server to translate HTTP traffic into TCP when proxying, for example, SSH or RDP. This configures what type of proxy will be started. Valid options are: "" for the regular proxy and "socks" for a SOCKS5 proxy.
- `tcp_keep_alive` (Number) The timeout after which a TCP keepalive packet is sent on a connection between Tunnel and the origin server.
- `tls_timeout` (Number) Timeout for completing a TLS handshake to your origin server, if you have chosen to connect Tunnel to an HTTPS server.

<a id="nestedatt--config--ingress--origin_request--access"></a>
### Nested Schema for `config.ingress.origin_request.tls_timeout`

Required:

- `aud_tag` (List of String) Access applications that are allowed to reach this hostname for this Tunnel. Audience tags can be identified in the dashboard or via the List Access policies API.

Optional:

- `required` (Boolean) Deny traffic that has not fulfilled Access authorization.
- `team_name` (String)




<a id="nestedatt--config--origin_request"></a>
### Nested Schema for `config.origin_request`

Optional:

- `access` (Attributes) For all L7 requests to this hostname, cloudflared will validate each request's Cf-Access-Jwt-Assertion request header. (see [below for nested schema](#nestedatt--config--origin_request--access))
- `ca_pool` (String) Path to the certificate authority (CA) for the certificate of your origin. This option should be used only if your certificate is not signed by Cloudflare.
- `connect_timeout` (Number) Timeout for establishing a new TCP connection to your origin server. This excludes the time taken to establish TLS, which is controlled by tlsTimeout.
- `disable_chunked_encoding` (Boolean) Disables chunked transfer encoding. Useful if you are running a WSGI server.
- `http2_origin` (Boolean) Attempt to connect to origin using HTTP2. Origin must be configured as https.
- `http_host_header` (String) Sets the HTTP Host header on requests sent to the local service.
- `keep_alive_connections` (Number) Maximum number of idle keepalive connections between Tunnel and your origin. This does not restrict the total number of concurrent connections.
- `keep_alive_timeout` (Number) Timeout after which an idle keepalive connection can be discarded.
- `no_happy_eyeballs` (Boolean) Disable the “happy eyeballs” algorithm for IPv4/IPv6 fallback if your local network has misconfigured one of the protocols.
- `no_tls_verify` (Boolean) Disables TLS verification of the certificate presented by your origin. Will allow any certificate from the origin to be accepted.
- `origin_server_name` (String) Hostname that cloudflared should expect from your origin server certificate.
- `proxy_type` (String) cloudflared starts a proxy server to translate HTTP traffic into TCP when proxying, for example, SSH or RDP. This configures what type of proxy will be started. Valid options are: "" for the regular proxy and "socks" for a SOCKS5 proxy.
- `tcp_keep_alive` (Number) The timeout after which a TCP keepalive packet is sent on a connection between Tunnel and the origin server.
- `tls_timeout` (Number) Timeout for completing a TLS handshake to your origin server, if you have chosen to connect Tunnel to an HTTPS server.

<a id="nestedatt--config--origin_request--access"></a>
### Nested Schema for `config.origin_request.access`

Required:

- `aud_tag` (List of String) Access applications that are allowed to reach this hostname for this Tunnel. Audience tags can be identified in the dashboard or via the List Access policies API.

Optional:

- `required` (Boolean) Deny traffic that has not fulfilled Access authorization.
- `team_name` (String)



<a id="nestedatt--config--warp_routing"></a>
### Nested Schema for `config.warp_routing`

Optional:

- `enabled` (Boolean)

## Import

Import is supported using the following syntax:

```shell
$ terraform import cloudflare_tunnel_config.example <account_id>/<tunnel_id>
```
